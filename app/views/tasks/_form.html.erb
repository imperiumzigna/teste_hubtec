<div class="card-body">
<%= form_with(model: task, local: true) do |form| %>
  <% if task.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(task.errors.count, "error") %> prohibited this task from being saved:</h2>

      <ul>
      <% task.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.label 'Descrição da tarefa', class: 'form-label' %>
    <%= form.text_area :body, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= form.label 'Prioridade', class: 'form-label' %>
    <select name="task[priority]" class="form-control">
    <option value="baixa">Baixa</option>
    <option value="normal">Normal</option>
    <option value="alta">Alta</option>
    </select>
  </div>

  <div class="form-group">
    <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
      <input type="text" name="task[finish_at]" value="<%= task.finish_at %>" class="form-control datetimepicker-input" data-target="#datetimepicker1"/>
      <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
      </div>
    </div>
  </div>
  <input name="task[user_id]" value="<%= current_user.id %>" hidden>
  <div class="form-group">
    <%= form.submit 'Salvar', class: 'btn btn-success float-right' %>
  </div>
<% end %>
</div>
<script type="text/javascript">
  $(function () {
    $('#datetimepicker1').datetimepicker({
      format: "YYYY-MM-DD hh:mm:ss"
    });
  });
</script>